if(!Element.prototype.addEventListener){var oListeners={};function runListeners(oEvent){if(!oEvent){oEvent=window.event}for(var iLstId=0,iElId=0,oEvtListeners=oListeners[oEvent.type];iElId<oEvtListeners.aEls.length;iElId++){if(oEvtListeners.aEls[iElId]===this){for(iLstId;iLstId<oEvtListeners.aEvts[iElId].length;iLstId++){oEvtListeners.aEvts[iElId][iLstId].call(this,oEvent)}break}}}Element.prototype.addEventListener=function(sEventType,fListener){if(oListeners.hasOwnProperty(sEventType)){var oEvtListeners=oListeners[sEventType];for(var nElIdx=-1,iElId=0;iElId<oEvtListeners.aEls.length;iElId++){if(oEvtListeners.aEls[iElId]===this){nElIdx=iElId;break}}if(nElIdx===-1){oEvtListeners.aEls.push(this);oEvtListeners.aEvts.push([fListener]);this["on"+sEventType]=runListeners}else{var aElListeners=oEvtListeners.aEvts[nElIdx];if(this["on"+sEventType]!==runListeners){aElListeners.splice(0);this["on"+sEventType]=runListeners}for(var iLstId=0;iLstId<aElListeners.length;iLstId++){if(aElListeners[iLstId]===fListener){return}}aElListeners.push(fListener)}}else{oListeners[sEventType]={aEls:[this],aEvts:[[fListener]]};this["on"+sEventType]=runListeners}};Element.prototype.removeEventListener=function(sEventType,fListener){if(!oListeners.hasOwnProperty(sEventType)){return}var oEvtListeners=oListeners[sEventType];for(var nElIdx=-1,iElId=0;iElId<oEvtListeners.aEls.length;iElId++){if(oEvtListeners.aEls[iElId]===this){nElIdx=iElId;break}}if(nElIdx===-1){return}for(var iLstId=0,aElListeners=oEvtListeners.aEvts[nElIdx];iLstId<aElListeners.length;iLstId++){if(aElListeners[iLstId]===fListener){aElListeners.splice(iLstId,1)}}}}if(Object.defineProperty&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(Element.prototype,"textContent")&&!Object.getOwnPropertyDescriptor(Element.prototype,"textContent").get){(function(){var innerText=Object.getOwnPropertyDescriptor(Element.prototype,"innerText");Object.defineProperty(Element.prototype,"textContent",{get:function(){return innerText.get.call(this)},set:function(s){return innerText.set.call(this,s)}})})()}if(!Array.from){Array.from=(function(){var toStr=Object.prototype.toString;var isCallable=function(fn){return typeof fn==='function'||toStr.call(fn)==='[object Function]'};var toInteger=function(value){var number=Number(value);if(isNaN(number)){return 0}if(number===0||!isFinite(number)){return number}return(number>0?1:-1)*Math.floor(Math.abs(number))};var maxSafeInteger=Math.pow(2,53)-1;var toLength=function(value){var len=toInteger(value);return Math.min(Math.max(len,0),maxSafeInteger)};return function from(arrayLike){var C=this;var items=Object(arrayLike);if(arrayLike==null){throw new TypeError("Array.from requires an array-like object - not null or undefined");}var mapFn=arguments.length>1?arguments[1]:void undefined;var T;if(typeof mapFn!=='undefined'){if(!isCallable(mapFn)){throw new TypeError('Array.from: when provided, the second argument must be a function');}if(arguments.length>2){T=arguments[2]}}var len=toLength(items.length);var A=isCallable(C)?Object(new C(len)):new Array(len);var k=0;var kValue;while(k<len){kValue=items[k];if(mapFn){A[k]=typeof T==='undefined'?mapFn(kValue,k):mapFn.call(T,kValue,k)}else{A[k]=kValue}k+=1}A.length=len;return A}}())}function addClass(elem,className){if(!className)return;const els=Array.isArray(elem)?elem:[elem];els.forEach((el)=>{if(el.classList){className.split(' ').forEach((cName)=>{el.classList.add(cName)})}else{el.className+=`${className}`}})}function removeClass(elem,className){if(!className)return;const els=Array.isArray(elem)?elem:[elem];els.forEach((el)=>{if(el.classList){el.classList.remove(className.split(' '))}else{el.className=el.className.replace(new RegExp(`(^|\\b)${className.split(' ').join('|')}(\\b|$)`,'gi'),' ')}})}Date.prototype.formatYYYYMMDD=function(){var d=new Date(this),month=''+(d.getMonth()+1),day=''+d.getDate(),year=d.getFullYear();if(month.length<2)month='0'+month;if(day.length<2)day='0'+day;return[year,month,day].join('-')}String.prototype.trim=function(){return this.replace(/^\s+|\s+$/gm,'')}String.prototype.trimAll=function(){return this.replace(/\s/g,"")}String.prototype.checkAccountID=function(){try{return/^\w+$/.test(this)}catch(e){throw new Error("在尝试验证字符是否由 字母、数字以及下划线组成时发生了错误。");}return false}String.prototype.isNumber=function(){var reg=/^\d+(?=\.{0,1}\d+$|$)/return reg.test(this)}String.prototype.checkYYYYMMDD=function(){var reg=/^((^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(10|12|0?[13578])([-\/\._])(3[01]|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(11|0?[469])([-\/\._])(30|[12][0-9]|0?[1-9])$)|(^((1[8-9]\d{2})|([2-9]\d{3}))([-\/\._])(0?2)([-\/\._])(2[0-8]|1[0-9]|0?[1-9])$)|(^([2468][048]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([3579][26]00)([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][0][48])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][2468][048])([-\/\._])(0?2)([-\/\._])(29)$)|(^([1][89][13579][26])([-\/\._])(0?2)([-\/\._])(29)$)|(^([2-9][0-9][13579][26])([-\/\._])(0?2)([-\/\._])(29)$))$/return reg.test(this)}class cloudTools{constructor(){}randomWord(randomFlag,min,max){var str="",range=min,arr=['0','1','2','3','4','5','6','7','8','9','a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'];if(randomFlag){range=Math.round(Math.random()*(max-min))+min}for(var i=0;i<range;i++){let pos=Math.round(Math.random()*(arr.length-1));str+=arr[pos]}return str}isObjectValueEqual(a,b,isEqulsString){var aProps=Object.getOwnPropertyNames(a);var bProps=Object.getOwnPropertyNames(b);if(aProps.length!=bProps.length){return false}for(var i=0;i<aProps.length;i++){var propName=aProps[i];if(isEqulsString){if(a[propName].toString()!==b[propName].toString()){return false}}else{if(a[propName]!==b[propName]){return false}}}return true}smoothScrollTop(){var currentScroll=document.documentElement.scrollTop||document.body.scrollTop;if(currentScroll>0){window.requestAnimationFrame(MTools.smoothScrollTop);window.scrollTo(0,currentScroll-(currentScroll/5))}}rgbToHex(rgb){var color=rgb.toString().match(/\d+/g);var hex="#";for(var i=0;i<3;i++){hex+=("0"+Number(color[i]).toString(16)).slice(-2)}return hex}insertAfter(newNode,curNode){curNode.parentNode.insertBefore(newNode,curNode.nextElementSibling)}getElementTop(element){var actualTop=element.offsetTop;var current=element.offsetParent;while(current!==null){actualTop+=current.offsetTop;current=current.offsetParent}return actualTop}getElementViewTop(element){var actualTop=element.offsetTop;var current=element.offsetParent;while(current!==null){actualTop+=current.offsetTop;current=current.offsetParent}if(document.compatMode=="BackCompat"){var elementScrollTop=document.body.scrollTop}else{var elementScrollTop=document.documentElement.scrollTop}return actualTop-elementScrollTop}addAnimation(config){var isNull=false;if(!config.htmlDOM)isNull=true;if(!config.animationName)isNull=true;if(isNull){throw new Error("定义了错误的动画参数 - 参数为空。");}if(config.htmlDOM.nodeType!==1){throw new Error("所传递的动画参数并非HTML元素。");}if(!config.time){config.time=0.5}for(var i=0;i<config.animationName.length/4;i++){config.animationName.replace("&nbsp;","")}let linear="";if(true===config.linear){linear="linear"}if(true===config.repeat){config.htmlDOM.setAttribute("style","animation: "+config.animationName.trim().toString()+" "+config.time+"s "+linear+" infinite;");return}config.htmlDOM.setAttribute("style","animation: "+config.animationName.trim().toString()+" "+config.time+"s "+linear+";")}getParentNodeByChiled(childElement,parentElName,className,id){if(childElement.nodeType!=1){return}let parent=childElement.parentNode;if(parent.nodeName.toLocaleLowerCase()==parentElName.toLocaleLowerCase()){if(className){if(parent.getAttribute("class")==className){return parent}}if(id){if(parent.getAttribute("id")==id){return parent}}return parent}if(parent==document){return null}return this.getParentNodeByChiled(parent,parentElName,className,id)}fullScreen(){var el=document.documentElement;var rfs=el.requestFullScreen||el.webkitRequestFullScreen||el.mozRequestFullScreen||el.msRequestFullScreen;if(typeof rfs!="undefined"&&rfs){rfs.call(el)}else if(typeof window.ActiveXObject!="undefined"){var wscript=new ActiveXObject("WScript.Shell");if(wscript!=null){wscript.SendKeys("{F11}")}}}exitFullScreen(){var exitMethod=document.exitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.webkitExitFullscreen;if(exitMethod){exitMethod.call(document)}else if(typeof window.ActiveXObject!=="undefined"){var wscript=new ActiveXObject("WScript.Shell");if(wscript!==null){wscript.SendKeys("{F11}")}}}IEVersion(){var userAgent=navigator.userAgent;var isIE=userAgent.indexOf("compatible")>-1&&userAgent.indexOf("MSIE")>-1;var isEdge=userAgent.indexOf("Edge")>-1&&!isIE;var isIE11=userAgent.indexOf('Trident')>-1&&userAgent.indexOf("rv:11.0")>-1;if(isIE){var reIE=new RegExp("MSIE (\\d+\\.\\d+);");reIE.test(userAgent);var fIEVersion=parseFloat(RegExp["$1"]);if(fIEVersion==7){return 7}else if(fIEVersion==8){return 8}else if(fIEVersion==9){return 9}else if(fIEVersion==10){return 10}else{return 6}}else if(isEdge){return'edge'}else if(isIE11){return 11}else{return-1}}}window.MTools=new cloudTools();class Animation{constructor(){}static add(config){var isNull=false;if(!config.htmlDOM)isNull=true;if(!config.animationName)isNull=true;if(isNull){throw new Error();}if(config.htmlDOM.nodeType!==1){throw new Error();}if(!config.time){config.time=0.5}for(var i=0;i<config.animationName.length/4;i++){config.animationName.replace("&nbsp;","")}let linear="";if(true===config.linear){linear="linear"}if(true===config.repeat){config.htmlDOM.setAttribute("style","animation: "+config.animationName.trim().toString()+" "+config.time+"s "+linear+" infinite;");return}config.htmlDOM.setAttribute("style","animation: "+config.animationName.trim().toString()+" "+config.time+"s "+linear+";")}}class EVENT{constructor(){}static addHandler(element,type,handler,options){try{var passiveSupported=false;var options=Object.defineProperty({},"passive",{get:function(){passiveSupported=true}});element.addEventListener(type,handler,passiveSupported?options:false)}catch(e){throw new Error();}}static addEventsHandler(Handler,args,options){var elements=args[0];if(elements===null||elements===undefined||typeof elements!=="object"){throw new Error();return}if(MTools.isObjectValueEqual(Handler,this.eventCommission(),true)){var events=args[2];var listener=args[3];elements.removeEventListener(events,listener,false)}else if(Handler===this.eventOperating){var events=args[1];var listener=args[2];elements.removeEventListener(events,listener,false)}else{throw new Error();}if(typeof options==="undefined"||options===null){options={once:false,passive:false}}Handler.addEventHandler(args,options)}static eventCommission(){return{addEventHandler:function(args,options){if(args.length<=3){throw new Error();}try{var passiveSupported=false;var options=Object.defineProperty({},"once",{get:function(){passiveSupported=true}});var elements=args[0];var childElement=args[1];var events=args[2];var listener=args[3];elements.addEventListener(events,function(ev){EVENT.eventCommission().handler(ev,childElement,listener)},passiveSupported?options:false)}catch(e){throw new Error();}},handler:function(ev,elemName,useHandler){var ev=ev||window.event;var target=ev.target||ev.srcElement;if(elemName.length>=2){for(let i=0;i<elemName.length;i++){if(target.nodeName.toLowerCase()==elemName[i].toLowerCase()){useHandler(target,ev);break}}}else{if(target.nodeName.toLowerCase()==elemName[0].toLowerCase()){useHandler(target,ev)}}},}}static eventOperating(){return{addEventHandler:function(args,options){if(args.length<=2){throw new Error();}this.addHandler(args[0],args[1],args[2],options)},}}}
